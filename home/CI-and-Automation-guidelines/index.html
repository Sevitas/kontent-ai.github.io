<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        <link rel="canonical" href="https://kontent-ai.github.io/wiki/home/CI-and-Automation-guidelines/">
        <link rel="shortcut icon" href="../../img/favicon.ico">
        <title>Continuous Integration and Continuous Delivery - Kontent.ai GitHub docs</title>
        <link href="../../css/bootstrap.min.css" rel="stylesheet">
        <link href="../../css/font-awesome.min.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css">

        <script src="../../js/jquery-1.10.2.min.js" defer></script>
        <script src="../../js/bootstrap.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="../..">Kontent.ai GitHub docs</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbar-collapse">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="navitem">
                                <a href="../.." class="nav-link">Home</a>
                            </li>
                            <li class="dropdown active">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Home <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="./" class="dropdown-item active">Continuous Integration and Continuous Delivery</a>
</li>
                                    
<li>
    <a href="../Checklist-for-publishing-a-new-OS-project/" class="dropdown-item">Checklist for publishing a new OS project</a>
</li>
                                    
<li>
    <a href="../Developer-experience-maintenance-process/" class="dropdown-item">Developer experience maintenance process</a>
</li>
                                    
<li>
    <a href="../Duties-of-a-Repository-Maintainer/" class="dropdown-item">Duties of a Repository Maintainer</a>
</li>
                                    
<li>
    <a href="../Guidelines-for-GitHub-permissions-in-Kontent.ai-organization/" class="dropdown-item">Guidelines for GitHub permissions in Kontent.ai organization</a>
</li>
                                    
<li>
    <a href="../Guidelines-for-Kontent.ai-related-tools/" class="dropdown-item">Guidelines for Kontent.ai related tools</a>
</li>
                                    
<li>
    <a href="../Guidelines-for-SDK-developers/" class="dropdown-item">Guidelines for SDK developers</a>
</li>
                                    
<li>
    <a href="../Java-GitHub-Actions-Guidelines/" class="dropdown-item">Java GitHub Actions Guidelines</a>
</li>
                                    
<li>
    <a href="../JavaScript-Node.js-GitHub-Actions-Guidelines/" class="dropdown-item">JavaScript Node.js GitHub Actions Guidelines</a>
</li>
                                    
<li>
    <a href="../Kentico%27s-best-practices-for-.csproj-files/" class="dropdown-item">Version management</a>
</li>
                                    
<li>
    <a href="../Kontent.ai-best-practices-for-.csproj-files/" class="dropdown-item">Version management</a>
</li>
                                    
<li>
    <a href="../Naming-conventions/" class="dropdown-item">Naming conventions</a>
</li>
                                    
<li>
    <a href="../New-REST-API-feature/" class="dropdown-item">New REST API feature</a>
</li>
                                    
<li>
    <a href="../PHP-GitHub-Actions-Guidelines/" class="dropdown-item">PHP GitHub Actions Guidelines</a>
</li>
                                    
<li>
    <a href="../Release-%26-version-management-of-.NET-projects/" class="dropdown-item">Milestones:</a>
</li>
                                    
<li>
    <a href="../Ruby-GitHub-Actions-Guidelines/" class="dropdown-item">Ruby GitHub Actions Guidelines</a>
</li>
                                    
<li>
    <a href="../Swift-GitHub-Actions-Guidelines/" class="dropdown-item">Swift GitHub Actions Guidelines</a>
</li>
                                </ul>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ml-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="prev" href="../.." class="nav-link">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" href="../Checklist-for-publishing-a-new-OS-project/" class="nav-link">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-light navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-toggle="collapse" data-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-secondary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-level="1"><a href="#continuous-integration-and-continuous-delivery" class="nav-link">Continuous Integration and Continuous Delivery</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#github-actions" class="nav-link">GitHub Actions</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#the-anatomy-of-the-action" class="nav-link">The anatomy of the Action</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#secrets" class="nav-link">Secrets</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#yaml-cheatsheet" class="nav-link">YAML Cheatsheet</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#resources" class="nav-link">Resources</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="continuous-integration-and-continuous-delivery">Continuous Integration and Continuous Delivery<a class="headerlink" href="#continuous-integration-and-continuous-delivery" title="Permanent link">&para;</a></h1>
<blockquote>
<p>GitHub Actions are our primary automation platform - whenever it's possible, we recommend using <a href="https://github.com/features/actions">GitHub Actions</a> - this will helps us with better maintenance. This page contains general info about GitHub Actions and their usage. Subpages focus on the specific stacks.</p>
</blockquote>
<p><strong>Continuous integration</strong> is the automation of building and testing. This means that typically, with some code changes, the machine checks whether it’s possible to build the project and whether your tests are passing. <strong>Continuous delivery</strong> is a little bit broader. To sum it up, this automation process will deploy or publish your code to various environments. This might be a little bit abstract and connected with the nature of your project, but you can visualize it as publishing to package registries like NPM or Nuget—or deploying your site to a staging or production environment.</p>
<p>For most Kontent.ai repositories, <a href="https://github.com/kontent-ai/.github/wiki/Checklist-for-publishing-a-new-OS-project#continuous-integration">we highly recommend</a> adding automation workflows. With some basic automation, we want to perform automatic checks, tests and builds. Moreover, when it makes sense, it's a good practice to automate deploying or publishing processes to the respective registry. With this initiative, we aim to reduce human errors and increase productivity.</p>
<h2 id="github-actions">GitHub Actions<a class="headerlink" href="#github-actions" title="Permanent link">&para;</a></h2>
<p>GitHub Actions are the feature of GitHub that consists of the API and an environment for running your tasks. You just need to create a YAML file at a specific location in the repository. The configuration .yml file contains all the specific information about the environment, such as <a href="https://docs.github.com/en/actions/reference/workflow-syntax-for-github-actions">trigger events</a>, <a href="https://docs.github.com/en/actions/reference/workflow-syntax-for-github-actions#jobs">jobs</a>, or <a href="https://docs.github.com/en/actions/reference/workflow-syntax-for-github-actions#jobsjob_idstrategy">strategies</a>. Additionally, you can choose the environment where you want to run your tasks—it might be Linux, Windows, or even macOS.</p>
<h2 id="the-anatomy-of-the-action">The anatomy of the Action<a class="headerlink" href="#the-anatomy-of-the-action" title="Permanent link">&para;</a></h2>
<p>Each action is represented by a <code>.yml</code> file located directly in the repository at the <code>.github/workflows</code> location. To be able to run it, you need to allow the Actions feature in the repository’s Settings section.</p>
<h2 id="secrets">Secrets<a class="headerlink" href="#secrets" title="Permanent link">&para;</a></h2>
<p>It's common, the Action needs API keys or secrets to be able to release the version or perform some automation tasks. The practice is to use the <a href="https://docs.github.com/en/actions/reference/encrypted-secrets">Repository</a> or <a href="https://github.blog/changelog/2020-05-14-organization-secrets/">Organization secrets</a>.</p>
<h2 id="yaml-cheatsheet">YAML Cheatsheet<a class="headerlink" href="#yaml-cheatsheet" title="Permanent link">&para;</a></h2>
<p>If you are not familiar with the <code>YAML</code> format, for the purposes of the GitHub Actions, you just need to know that key-value pairs are represented by <code>key: value</code>. The quotes for string values are optional. Nesting of objects is done by indentation (typically two spaces), and items of the array are denoted by a dash.</p>
<pre><code class="language-yaml">key: value
  nested_property: Nested value
  my_array:
    - First Item
    - Second Item
</code></pre>
<h3 id="github-actions-basic-syntax-keys">GitHub Actions basic syntax keys<a class="headerlink" href="#github-actions-basic-syntax-keys" title="Permanent link">&para;</a></h3>
<ul>
<li><a href="https://docs.github.com/en/actions/reference/workflow-syntax-for-github-actions#name">name</a> - The name of the workflow.</li>
<li><a href="https://docs.github.com/en/actions/reference/workflow-syntax-for-github-actions#on">on</a> - Is required, specifies events when you want to run your action.</li>
<li><a href="https://docs.github.com/en/actions/reference/workflow-syntax-for-github-actions#jobs">jobs</a> - A job is a unit of work; jobs run in parallel by default. Each job runs in a runner environment specified by runs-on.</li>
<li><a href="https://docs.github.com/en/actions/reference/workflow-syntax-for-github-actions#jobsjob_idruns-on">jobs.<job_id>.runs-on</a> - Is required, specifies the type of the machine to run the job.</li>
<li><a href="https://docs.github.com/en/actions/reference/workflow-syntax-for-github-actions#jobsjob_idsteps">jobs.<job_id>.steps</a> - A step is an individual task that can run commands in a job. A step can be either an action or a shell command. Each step in a job executes on the same runner, allowing the actions in that job to share data with each other (<a href="https://docs.github.com/en/actions/learn-github-actions/introduction-to-github-actions#steps">definition by GitHub</a>).</li>
<li><a href="https://docs.github.com/en/actions/reference/workflow-syntax-for-github-actions#jobsjob_idstepsuses">jobs.<job_id>.steps[*].uses</a> - Selects an action to run as part of a step in your job. This is beneficial for reusing existing actions. You can check existing actions in the official <a href="https://github.com/actions">actions repository</a> or on the <a href="https://github.com/marketplace?type=actions">marketplace</a>.</li>
<li><a href="https://docs.github.com/en/actions/reference/workflow-syntax-for-github-actions#jobsjob_idruns-on">jobs.<job_id>.runs-on</a> - Provides a shell where you can run your commands.</li>
</ul>
<h3 id="hello-world-action">Hello World Action<a class="headerlink" href="#hello-world-action" title="Permanent link">&para;</a></h3>
<p>Let’s write the action that runs the code analysis tool every week. This action will run on Ubuntu, build the project, and will analyze code from our repository. The explanation of each line is described in the respective comment directly in the code. This example comes from the <a href="https://github.com/kontent-ai/kontent-delivery-sdk-net/blob/master/.github/workflows/codeql-analysis.yml">.NET Delivery SDK repository</a>.</p>
<pre><code class="language-yaml">name: &quot;Code scanning - action&quot;   # Represents the name of the whole action.
on:   # Specifies the section where we describe our build triggers.
  push: # The action runs with push.
  pull_request: # The action runs with a pull request.
  schedule: # Specifies the section where we describe the schedule of running the action.
    - cron: '0 18 * * 1' # The CRON expression describing when to run the action.
jobs: # Specifies the section where we describe our jobs.
  CodeQL-Build: # Specific job section.
    runs-on: ubuntu-latest   # Describes the environment.
    steps: # Specifies the section where we describe the job's steps.
    - name: Checkout repository # The name of the step.
      uses: actions/checkout@v2 # Using already existing action actions/checkout@v2. This action provides us with access to the code of the repository.
      with: # Configuration of the action.
        fetch-depth: 2 # We must fetch at least the immediate parents so that if this is a pull request then we can checkout the head.
    - run: git checkout HEAD^2   # If this run was triggered by a pull request event, then checkout the head of the pull request instead of the merge commit.
      if: ${{ github.event_name == 'pull_request' }}   
    - name: Initialize CodeQL   # Initializes the CodeQL tools for scanning.
      uses: github/codeql-action/init@v1
      with:   # Override language selection by uncommenting this and choosing your languages
        languages: csharp
    - name: Setup .NET Core
      uses: actions/setup-dotnet@v1
      with:
        dotnet-version: 5.0.x
    - name: Install dependencies
      run: dotnet restore   # Command for the shell environment.
    - name: Build
      run: dotnet build --configuration Release --no-restore
    - name: Perform CodeQL Analysis
      uses: github/codeql-action/analyze@v1
</code></pre>
<h3 id="real-world-examples-and-syntax">Real-world examples and syntax<a class="headerlink" href="#real-world-examples-and-syntax" title="Permanent link">&para;</a></h3>
<p>It’s not possible to cover all capabilities and combinations for each stack here. Nevertheless, in the subpages, you can find some real-world examples—you can choose them for scaffolding your Action quickly for your specific stack and use case. They showcase configuration for various languages, platforms, and publishing to external package repositories. However, before you start with more advanced Actions, you'll need some more commands.
* <a href="https://docs.github.com/en/actions/reference/events-that-trigger-workflows#release">on.release.types</a> - Runs the action when a specific release event occurs.
* <a href="https://docs.github.com/en/actions/reference/workflow-syntax-for-github-actions#onpushpull_requestbranchestags">on.<push|pull_request>.<branches|tags></a> - Runs an action when push or pull request event occurs on a specific branch.
* <a href="https://docs.github.com/en/actions/reference/workflow-syntax-for-github-actions#jobsjob_idstrategymatrix">jobs.<job_id>.strategy.matrix</a> - Allows to set different job configurations.
* <a href="https://docs.github.com/en/actions/reference/context-and-expression-syntax-for-github-actions#env-context">env</a> - Context for specified environment variables.
* <a href="https://docs.github.com/en/actions/guides/publishing-nodejs-packages#publishing-packages-to-the-npm-registry">env.NODE_AUTH_TOKEN</a> - Specifies the location of stored <a href="https://docs.npmjs.com/creating-and-viewing-access-tokens">NPM_TOKEN</a>. It’s a good practice to store secrets and keys to <a href="https://docs.github.com/en/actions/reference/encrypted-secrets">Encrypted Secrets</a> storage of the repository.
* <a href="https://docs.github.com/en/actions/reference/workflow-syntax-for-github-actions#jobsjob_idif">jobs.<job_id>.if</a> - The job will run if the condition is met.</p>
<h2 id="resources">Resources<a class="headerlink" href="#resources" title="Permanent link">&para;</a></h2>
<ul>
<li>GitHub Actions <a href="https://docs.github.com/en/actions">documentation</a></li>
<li>An article about GitHub Actions containing Kontent.ai specific examples: <a href="https://hackernoon.com/with-github-actions-you-dont-have-to-do-boring-tasks-manually-ever-again-301p356e">With GitHub Actions, you don’t have to do boring tasks manually ever again</a></li>
</ul></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = "../..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../../js/base.js" defer></script>
        <script src="../../search/main.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
                <p>From here you can search these documents. Enter your search terms below.</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No results found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
